#DROP TABLE IF EXISTS produtos;
#DROP TABLE IF EXISTS alertas;

CREATE TABLE IF NOT EXISTS produtos (
  id VARCHAR(255) PRIMARY KEY,
  descricao VARCHAR(255) NOT NULL,
  preco NUMERIC NOT NULL,
  imagem VARCHAR(255) NOT NULL,
  link VARCHAR(255) NOT NULL,
  data_atual VARCHAR(255) NOT NULL
);

CREATE TABLE IF NOT EXISTS alertas (
  id INT GENERATED ALWAYS AS IDENTITY,
  usuario VARCHAR(255) NOT NULL,
  email VARCHAR(255) NOT NULL,
  preco NUMERIC NOT NULL,
  id_produto VARCHAR(255) NOT NULL,
  PRIMARY KEY(id),
  CONSTRAINT fk_produto
      FOREIGN KEY(id_produto)
	  REFERENCES produtos(id)
);

CREATE TABLE IF NOT EXISTS precos (
	id INT GENERATED ALWAYS AS IDENTITY,
	id_produto VARCHAR(255) NOT NULL,
    data VARCHAR(255) NOT NULL,
    preco NUMERIC NOT NULL,
	PRIMARY KEY(id),
    CONSTRAINT fk_produto
      FOREIGN KEY(id_produto)
	  REFERENCES produtos(id)
);